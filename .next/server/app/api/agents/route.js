"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/agents/route";
exports.ids = ["app/api/agents/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fagents%2Froute&page=%2Fapi%2Fagents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fagents%2Froute.ts&appDir=C%3A%5CUsers%5Cvastu%5COneDrive%5CDesktop%5CMaraPlace%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cvastu%5COneDrive%5CDesktop%5CMaraPlace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fagents%2Froute&page=%2Fapi%2Fagents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fagents%2Froute.ts&appDir=C%3A%5CUsers%5Cvastu%5COneDrive%5CDesktop%5CMaraPlace%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cvastu%5COneDrive%5CDesktop%5CMaraPlace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_vastu_OneDrive_Desktop_MaraPlace_src_app_api_agents_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/agents/route.ts */ \"(rsc)/./src/app/api/agents/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/agents/route\",\n        pathname: \"/api/agents\",\n        filename: \"route\",\n        bundlePath: \"app/api/agents/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\vastu\\\\OneDrive\\\\Desktop\\\\MaraPlace\\\\src\\\\app\\\\api\\\\agents\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_vastu_OneDrive_Desktop_MaraPlace_src_app_api_agents_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/agents/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZ2VudHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFnZW50cyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFnZW50cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN2YXN0dSU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q01hcmFQbGFjZSU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDdmFzdHUlNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNNYXJhUGxhY2UmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQytCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFyYXBsYWNlLz9kNmI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHZhc3R1XFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcTWFyYVBsYWNlXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFnZW50c1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWdlbnRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWdlbnRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hZ2VudHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFx2YXN0dVxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXE1hcmFQbGFjZVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhZ2VudHNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FnZW50cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fagents%2Froute&page=%2Fapi%2Fagents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fagents%2Froute.ts&appDir=C%3A%5CUsers%5Cvastu%5COneDrive%5CDesktop%5CMaraPlace%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cvastu%5COneDrive%5CDesktop%5CMaraPlace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/agents/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/agents/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_1__.PrismaClient();\n// Helper to save files locally\nasync function saveFile(file, type, uploadsDir, savedFiles) {\n    if (!file) return null;\n    const arrayBuffer = await file.arrayBuffer();\n    const buffer = Buffer.from(arrayBuffer);\n    const ext = file.name.split(\".\").pop();\n    const filename = `${type}-${(0,crypto__WEBPACK_IMPORTED_MODULE_4__.randomUUID)()}.${ext}`;\n    const filePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(uploadsDir, filename);\n    await (0,fs_promises__WEBPACK_IMPORTED_MODULE_2__.writeFile)(filePath, buffer);\n    savedFiles.push({\n        type,\n        url: `/uploads/${filename}`,\n        name: file.name\n    });\n    return `/uploads/${filename}`;\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        // Extract query parameters\n        const visaType = searchParams.get(\"visaType\");\n        const location = searchParams.get(\"location\");\n        const language = searchParams.get(\"language\");\n        const maraNumber = searchParams.get(\"maraNumber\");\n        const minRating = searchParams.get(\"minRating\");\n        const maxPrice = searchParams.get(\"maxPrice\");\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"10\");\n        const skip = (page - 1) * limit;\n        const status = searchParams.get(\"status\");\n        // Build where clause\n        const where = {\n            status: status || \"APPROVED\",\n            isAvailable: true\n        };\n        if (visaType) {\n            where.specializations = {\n                has: visaType\n            };\n        }\n        if (location) {\n            where.OR = [\n                {\n                    businessCity: {\n                        contains: location,\n                        mode: \"insensitive\"\n                    }\n                },\n                {\n                    businessState: {\n                        contains: location,\n                        mode: \"insensitive\"\n                    }\n                }\n            ];\n        }\n        if (language) {\n            where.languages = {\n                has: language\n            };\n        }\n        if (maraNumber) {\n            where.maraNumber = {\n                contains: maraNumber,\n                mode: \"insensitive\"\n            };\n        }\n        if (minRating) {\n            where.rating = {\n                gte: parseFloat(minRating)\n            };\n        }\n        if (maxPrice) {\n            where.OR = [\n                {\n                    hourlyRate: {\n                        lte: parseFloat(maxPrice)\n                    }\n                },\n                {\n                    consultationFee: {\n                        lte: parseFloat(maxPrice)\n                    }\n                }\n            ];\n        }\n        // Fetch agents with pagination\n        const [agents, total] = await Promise.all([\n            prisma.agentProfile.findMany({\n                where,\n                include: {\n                    user: {\n                        select: {\n                            id: true,\n                            name: true,\n                            email: true,\n                            image: true,\n                            phone: true\n                        }\n                    },\n                    documents: true,\n                    services: {\n                        where: {\n                            isActive: true\n                        },\n                        select: {\n                            id: true,\n                            name: true,\n                            price: true,\n                            duration: true\n                        }\n                    },\n                    reviews: {\n                        where: {\n                            isPublic: true\n                        },\n                        select: {\n                            rating: true,\n                            comment: true,\n                            createdAt: true\n                        }\n                    },\n                    _count: {\n                        select: {\n                            reviews: true,\n                            bookings: true\n                        }\n                    }\n                },\n                orderBy: [\n                    {\n                        rating: \"desc\"\n                    },\n                    {\n                        totalReviews: \"desc\"\n                    }\n                ],\n                skip,\n                take: limit\n            }),\n            prisma.agentProfile.count({\n                where\n            })\n        ]);\n        // Calculate average ratings and format response\n        const formattedAgents = agents.map((agent)=>{\n            const avgRating = agent.reviews.length > 0 ? agent.reviews.reduce((sum, review)=>sum + review.rating, 0) / agent.reviews.length : agent.rating || 0;\n            return {\n                id: agent.id,\n                userId: agent.userId,\n                name: agent.user.name,\n                email: agent.user.email,\n                phone: agent.user.phone,\n                image: agent.user.image,\n                maraNumber: agent.maraNumber,\n                maraVerified: agent.maraVerified,\n                businessName: agent.businessName,\n                businessCity: agent.businessCity,\n                businessState: agent.businessState,\n                businessAddress: agent.businessAddress,\n                abn: agent.abn,\n                bio: agent.bio,\n                calendlyUrl: agent.calendlyUrl,\n                specializations: agent.specializations,\n                languages: agent.languages,\n                hourlyRate: agent.hourlyRate,\n                consultationFee: agent.consultationFee,\n                experience: agent.experience,\n                rating: avgRating,\n                totalReviews: agent._count.reviews,\n                totalBookings: agent._count.bookings,\n                services: agent.services,\n                recentReviews: agent.reviews.slice(0, 3),\n                documents: agent.documents,\n                status: agent.status\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            agents: formattedAgents,\n            pagination: {\n                page,\n                limit,\n                total,\n                totalPages: Math.ceil(total / limit),\n                hasNext: page * limit < total,\n                hasPrev: page > 1\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching agents:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch agents\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        // Parse multipart form data\n        const formData = await request.formData();\n        const name = formData.get(\"name\");\n        const email = formData.get(\"email\");\n        const password = formData.get(\"password\");\n        const phone = formData.get(\"phone\");\n        const businessName = formData.get(\"businessName\");\n        const address = formData.get(\"address\");\n        const abn = formData.get(\"abn\");\n        const maraOrLawyerNumber = formData.get(\"maraOrLawyerNumber\");\n        const businessAddress = formData.get(\"businessAddress\");\n        const photo = formData.get(\"photo\");\n        const businessRegistration = formData.get(\"businessRegistration\");\n        const maraCertificate = formData.get(\"maraCertificate\");\n        const calendlyUrl = formData.get(\"calendlyUrl\");\n        const businessLogo = formData.get(\"businessLogo\");\n        // Basic validation\n        if (!name || !email || !password || !phone || !businessName || !address || !abn || !maraOrLawyerNumber || !businessAddress) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        // Hash password\n        const hashedPassword = await bcrypt__WEBPACK_IMPORTED_MODULE_5___default().hash(password, 10);\n        // Save files locally if present\n        const uploadsDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"uploads\");\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_2__.mkdir)(uploadsDir, {\n            recursive: true\n        });\n        const savedFiles = [];\n        const photoUrl = await saveFile(photo, \"photo\", uploadsDir, savedFiles);\n        const businessRegUrl = await saveFile(businessRegistration, \"businessReg\", uploadsDir, savedFiles);\n        const maraCertUrl = await saveFile(maraCertificate, \"maraCert\", uploadsDir, savedFiles);\n        const businessLogoUrl = await saveFile(businessLogo, \"businessLogo\", uploadsDir, savedFiles);\n        // Create User and AgentProfile\n        const user = await prisma.user.create({\n            data: {\n                name,\n                email,\n                password: hashedPassword,\n                phone,\n                role: \"AGENT\",\n                agentProfile: {\n                    create: {\n                        maraNumber: maraOrLawyerNumber,\n                        businessName,\n                        businessAddress,\n                        calendlyUrl,\n                        bio: \"\",\n                        status: \"PENDING\",\n                        isAvailable: true\n                    }\n                }\n            }\n        });\n        // Save Document records for uploaded files\n        const agentProfile = await prisma.agentProfile.findUnique({\n            where: {\n                userId: user.id\n            }\n        });\n        if (agentProfile) {\n            for (const file of savedFiles){\n                await prisma.document.create({\n                    data: {\n                        agentId: agentProfile.id,\n                        type: file.type,\n                        url: file.url,\n                        name: file.name\n                    }\n                });\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"Error registering agent:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to register agent\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixLQUFLRSxFQUFFO1lBQUM7UUFBRTtRQUN2RixJQUFJTCxjQUFjO1lBQ2hCLEtBQUssTUFBTXJELFFBQVFHLFdBQVk7Z0JBQzdCLE1BQU1MLE9BQU9pSSxRQUFRLENBQUNKLE1BQU0sQ0FBQztvQkFDM0JDLE1BQU07d0JBQ0pJLFNBQVMzRSxhQUFhSyxFQUFFO3dCQUN4QnpELE1BQU1ELEtBQUtDLElBQUk7d0JBQ2ZlLEtBQUtoQixLQUFLZ0IsR0FBRzt3QkFDYlAsTUFBTVQsS0FBS1MsSUFBSTtvQkFDakI7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0EsT0FBT2xCLHFEQUFZQSxDQUFDeUcsSUFBSSxDQUFDO1lBQUVpQyxTQUFTO1FBQUs7SUFDM0MsRUFBRSxPQUFPMUIsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNEJBQTRCQTtRQUMxQyxPQUFPaEgscURBQVlBLENBQUN5RyxJQUFJLENBQUM7WUFBRU8sT0FBTztRQUEyQixHQUFHO1lBQUV2RSxRQUFRO1FBQUk7SUFDaEY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL21hcmFwbGFjZS8uL3NyYy9hcHAvYXBpL2FnZW50cy9yb3V0ZS50cz8zZmQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuaW1wb3J0IHsgd3JpdGVGaWxlLCBta2RpciB9IGZyb20gJ2ZzL3Byb21pc2VzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5cbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKVxuXG4vLyBIZWxwZXIgdG8gc2F2ZSBmaWxlcyBsb2NhbGx5XG5hc3luYyBmdW5jdGlvbiBzYXZlRmlsZShmaWxlOiBGaWxlIHwgbnVsbCwgdHlwZTogc3RyaW5nLCB1cGxvYWRzRGlyOiBzdHJpbmcsIHNhdmVkRmlsZXM6IHsgdHlwZTogc3RyaW5nOyB1cmw6IHN0cmluZzsgbmFtZTogc3RyaW5nIH1bXSkge1xuICBpZiAoIWZpbGUpIHJldHVybiBudWxsO1xuICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmZyb20oYXJyYXlCdWZmZXIpO1xuICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcbiAgY29uc3QgZmlsZW5hbWUgPSBgJHt0eXBlfS0ke3JhbmRvbVVVSUQoKX0uJHtleHR9YDtcbiAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4odXBsb2Fkc0RpciwgZmlsZW5hbWUpO1xuICBhd2FpdCB3cml0ZUZpbGUoZmlsZVBhdGgsIGJ1ZmZlcik7XG4gIHNhdmVkRmlsZXMucHVzaCh7IHR5cGUsIHVybDogYC91cGxvYWRzLyR7ZmlsZW5hbWV9YCwgbmFtZTogZmlsZS5uYW1lIH0pO1xuICByZXR1cm4gYC91cGxvYWRzLyR7ZmlsZW5hbWV9YDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIFxuICAgIC8vIEV4dHJhY3QgcXVlcnkgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHZpc2FUeXBlID0gc2VhcmNoUGFyYW1zLmdldCgndmlzYVR5cGUnKVxuICAgIGNvbnN0IGxvY2F0aW9uID0gc2VhcmNoUGFyYW1zLmdldCgnbG9jYXRpb24nKVxuICAgIGNvbnN0IGxhbmd1YWdlID0gc2VhcmNoUGFyYW1zLmdldCgnbGFuZ3VhZ2UnKVxuICAgIGNvbnN0IG1hcmFOdW1iZXIgPSBzZWFyY2hQYXJhbXMuZ2V0KCdtYXJhTnVtYmVyJylcbiAgICBjb25zdCBtaW5SYXRpbmcgPSBzZWFyY2hQYXJhbXMuZ2V0KCdtaW5SYXRpbmcnKVxuICAgIGNvbnN0IG1heFByaWNlID0gc2VhcmNoUGFyYW1zLmdldCgnbWF4UHJpY2UnKVxuICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdwYWdlJykgfHwgJzEnKVxuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnbGltaXQnKSB8fCAnMTAnKVxuICAgIGNvbnN0IHNraXAgPSAocGFnZSAtIDEpICogbGltaXRcbiAgICBjb25zdCBzdGF0dXMgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdGF0dXMnKTtcblxuICAgIC8vIEJ1aWxkIHdoZXJlIGNsYXVzZVxuICAgIGNvbnN0IHdoZXJlOiBhbnkgPSB7XG4gICAgICBzdGF0dXM6IHN0YXR1cyB8fCAnQVBQUk9WRUQnLFxuICAgICAgaXNBdmFpbGFibGU6IHRydWUsXG4gICAgfVxuXG4gICAgaWYgKHZpc2FUeXBlKSB7XG4gICAgICB3aGVyZS5zcGVjaWFsaXphdGlvbnMgPSB7XG4gICAgICAgIGhhczogdmlzYVR5cGVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgIHdoZXJlLk9SID0gW1xuICAgICAgICB7IGJ1c2luZXNzQ2l0eTogeyBjb250YWluczogbG9jYXRpb24sIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICB7IGJ1c2luZXNzU3RhdGU6IHsgY29udGFpbnM6IGxvY2F0aW9uLCBtb2RlOiAnaW5zZW5zaXRpdmUnIH0gfSxcbiAgICAgIF1cbiAgICB9XG5cbiAgICBpZiAobGFuZ3VhZ2UpIHtcbiAgICAgIHdoZXJlLmxhbmd1YWdlcyA9IHtcbiAgICAgICAgaGFzOiBsYW5ndWFnZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXJhTnVtYmVyKSB7XG4gICAgICB3aGVyZS5tYXJhTnVtYmVyID0ge1xuICAgICAgICBjb250YWluczogbWFyYU51bWJlcixcbiAgICAgICAgbW9kZTogJ2luc2Vuc2l0aXZlJ1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtaW5SYXRpbmcpIHtcbiAgICAgIHdoZXJlLnJhdGluZyA9IHtcbiAgICAgICAgZ3RlOiBwYXJzZUZsb2F0KG1pblJhdGluZylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF4UHJpY2UpIHtcbiAgICAgIHdoZXJlLk9SID0gW1xuICAgICAgICB7IGhvdXJseVJhdGU6IHsgbHRlOiBwYXJzZUZsb2F0KG1heFByaWNlKSB9IH0sXG4gICAgICAgIHsgY29uc3VsdGF0aW9uRmVlOiB7IGx0ZTogcGFyc2VGbG9hdChtYXhQcmljZSkgfSB9XG4gICAgICBdXG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggYWdlbnRzIHdpdGggcGFnaW5hdGlvblxuICAgIGNvbnN0IFthZ2VudHMsIHRvdGFsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHByaXNtYS5hZ2VudFByb2ZpbGUuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgICAgICAgIGltYWdlOiB0cnVlLFxuICAgICAgICAgICAgICBwaG9uZTogdHJ1ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGRvY3VtZW50czogdHJ1ZSxcbiAgICAgICAgICBzZXJ2aWNlczoge1xuICAgICAgICAgICAgd2hlcmU6IHsgaXNBY3RpdmU6IHRydWUgfSxcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgcHJpY2U6IHRydWUsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmV2aWV3czoge1xuICAgICAgICAgICAgd2hlcmU6IHsgaXNQdWJsaWM6IHRydWUgfSxcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICByYXRpbmc6IHRydWUsXG4gICAgICAgICAgICAgIGNvbW1lbnQ6IHRydWUsXG4gICAgICAgICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIF9jb3VudDoge1xuICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgIHJldmlld3M6IHRydWUsXG4gICAgICAgICAgICAgIGJvb2tpbmdzOiB0cnVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeTogW1xuICAgICAgICAgIHsgcmF0aW5nOiAnZGVzYycgfSxcbiAgICAgICAgICB7IHRvdGFsUmV2aWV3czogJ2Rlc2MnIH1cbiAgICAgICAgXSxcbiAgICAgICAgc2tpcCxcbiAgICAgICAgdGFrZTogbGltaXQsXG4gICAgICB9KSxcbiAgICAgIHByaXNtYS5hZ2VudFByb2ZpbGUuY291bnQoeyB3aGVyZSB9KVxuICAgIF0pXG5cbiAgICAvLyBDYWxjdWxhdGUgYXZlcmFnZSByYXRpbmdzIGFuZCBmb3JtYXQgcmVzcG9uc2VcbiAgICBjb25zdCBmb3JtYXR0ZWRBZ2VudHMgPSBhZ2VudHMubWFwKChhZ2VudDogYW55KSA9PiB7XG4gICAgICBjb25zdCBhdmdSYXRpbmcgPSBhZ2VudC5yZXZpZXdzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBhZ2VudC5yZXZpZXdzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHJldmlldzogYW55KSA9PiBzdW0gKyByZXZpZXcucmF0aW5nLCAwKSAvIGFnZW50LnJldmlld3MubGVuZ3RoXG4gICAgICAgIDogYWdlbnQucmF0aW5nIHx8IDBcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGFnZW50LmlkLFxuICAgICAgICB1c2VySWQ6IGFnZW50LnVzZXJJZCxcbiAgICAgICAgbmFtZTogYWdlbnQudXNlci5uYW1lLFxuICAgICAgICBlbWFpbDogYWdlbnQudXNlci5lbWFpbCxcbiAgICAgICAgcGhvbmU6IGFnZW50LnVzZXIucGhvbmUsXG4gICAgICAgIGltYWdlOiBhZ2VudC51c2VyLmltYWdlLFxuICAgICAgICBtYXJhTnVtYmVyOiBhZ2VudC5tYXJhTnVtYmVyLFxuICAgICAgICBtYXJhVmVyaWZpZWQ6IGFnZW50Lm1hcmFWZXJpZmllZCxcbiAgICAgICAgYnVzaW5lc3NOYW1lOiBhZ2VudC5idXNpbmVzc05hbWUsXG4gICAgICAgIGJ1c2luZXNzQ2l0eTogYWdlbnQuYnVzaW5lc3NDaXR5LFxuICAgICAgICBidXNpbmVzc1N0YXRlOiBhZ2VudC5idXNpbmVzc1N0YXRlLFxuICAgICAgICBidXNpbmVzc0FkZHJlc3M6IGFnZW50LmJ1c2luZXNzQWRkcmVzcyxcbiAgICAgICAgYWJuOiBhZ2VudC5hYm4sXG4gICAgICAgIGJpbzogYWdlbnQuYmlvLFxuICAgICAgICBjYWxlbmRseVVybDogYWdlbnQuY2FsZW5kbHlVcmwsXG4gICAgICAgIHNwZWNpYWxpemF0aW9uczogYWdlbnQuc3BlY2lhbGl6YXRpb25zLFxuICAgICAgICBsYW5ndWFnZXM6IGFnZW50Lmxhbmd1YWdlcyxcbiAgICAgICAgaG91cmx5UmF0ZTogYWdlbnQuaG91cmx5UmF0ZSxcbiAgICAgICAgY29uc3VsdGF0aW9uRmVlOiBhZ2VudC5jb25zdWx0YXRpb25GZWUsXG4gICAgICAgIGV4cGVyaWVuY2U6IGFnZW50LmV4cGVyaWVuY2UsXG4gICAgICAgIHJhdGluZzogYXZnUmF0aW5nLFxuICAgICAgICB0b3RhbFJldmlld3M6IGFnZW50Ll9jb3VudC5yZXZpZXdzLFxuICAgICAgICB0b3RhbEJvb2tpbmdzOiBhZ2VudC5fY291bnQuYm9va2luZ3MsXG4gICAgICAgIHNlcnZpY2VzOiBhZ2VudC5zZXJ2aWNlcyxcbiAgICAgICAgcmVjZW50UmV2aWV3czogYWdlbnQucmV2aWV3cy5zbGljZSgwLCAzKSxcbiAgICAgICAgZG9jdW1lbnRzOiBhZ2VudC5kb2N1bWVudHMsXG4gICAgICAgIHN0YXR1czogYWdlbnQuc3RhdHVzLFxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgYWdlbnRzOiBmb3JtYXR0ZWRBZ2VudHMsXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICB0b3RhbCxcbiAgICAgICAgdG90YWxQYWdlczogTWF0aC5jZWlsKHRvdGFsIC8gbGltaXQpLFxuICAgICAgICBoYXNOZXh0OiBwYWdlICogbGltaXQgPCB0b3RhbCxcbiAgICAgICAgaGFzUHJldjogcGFnZSA+IDEsXG4gICAgICB9XG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFnZW50czonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGFnZW50cycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufSBcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyBQYXJzZSBtdWx0aXBhcnQgZm9ybSBkYXRhXG4gICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XG4gICAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLmdldCgnbmFtZScpIGFzIHN0cmluZztcbiAgICBjb25zdCBlbWFpbCA9IGZvcm1EYXRhLmdldCgnZW1haWwnKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgcGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ3Bhc3N3b3JkJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBob25lID0gZm9ybURhdGEuZ2V0KCdwaG9uZScpIGFzIHN0cmluZztcbiAgICBjb25zdCBidXNpbmVzc05hbWUgPSBmb3JtRGF0YS5nZXQoJ2J1c2luZXNzTmFtZScpIGFzIHN0cmluZztcbiAgICBjb25zdCBhZGRyZXNzID0gZm9ybURhdGEuZ2V0KCdhZGRyZXNzJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGFibiA9IGZvcm1EYXRhLmdldCgnYWJuJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IG1hcmFPckxhd3llck51bWJlciA9IGZvcm1EYXRhLmdldCgnbWFyYU9yTGF3eWVyTnVtYmVyJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGJ1c2luZXNzQWRkcmVzcyA9IGZvcm1EYXRhLmdldCgnYnVzaW5lc3NBZGRyZXNzJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBob3RvID0gZm9ybURhdGEuZ2V0KCdwaG90bycpIGFzIEZpbGUgfCBudWxsO1xuICAgIGNvbnN0IGJ1c2luZXNzUmVnaXN0cmF0aW9uID0gZm9ybURhdGEuZ2V0KCdidXNpbmVzc1JlZ2lzdHJhdGlvbicpIGFzIEZpbGUgfCBudWxsO1xuICAgIGNvbnN0IG1hcmFDZXJ0aWZpY2F0ZSA9IGZvcm1EYXRhLmdldCgnbWFyYUNlcnRpZmljYXRlJykgYXMgRmlsZSB8IG51bGw7XG4gICAgY29uc3QgY2FsZW5kbHlVcmwgPSBmb3JtRGF0YS5nZXQoJ2NhbGVuZGx5VXJsJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGJ1c2luZXNzTG9nbyA9IGZvcm1EYXRhLmdldCgnYnVzaW5lc3NMb2dvJykgYXMgRmlsZSB8IG51bGw7XG5cbiAgICAvLyBCYXNpYyB2YWxpZGF0aW9uXG4gICAgaWYgKCFuYW1lIHx8ICFlbWFpbCB8fCAhcGFzc3dvcmQgfHwgIXBob25lIHx8ICFidXNpbmVzc05hbWUgfHwgIWFkZHJlc3MgfHwgIWFibiB8fCAhbWFyYU9yTGF3eWVyTnVtYmVyIHx8ICFidXNpbmVzc0FkZHJlc3MpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgLy8gSGFzaCBwYXNzd29yZFxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKTtcblxuICAgIC8vIFNhdmUgZmlsZXMgbG9jYWxseSBpZiBwcmVzZW50XG4gICAgY29uc3QgdXBsb2Fkc0RpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ3VwbG9hZHMnKTtcbiAgICBhd2FpdCBta2Rpcih1cGxvYWRzRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICBjb25zdCBzYXZlZEZpbGVzOiB7IHR5cGU6IHN0cmluZzsgdXJsOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9W10gPSBbXTtcbiAgICBjb25zdCBwaG90b1VybCA9IGF3YWl0IHNhdmVGaWxlKHBob3RvLCAncGhvdG8nLCB1cGxvYWRzRGlyLCBzYXZlZEZpbGVzKTtcbiAgICBjb25zdCBidXNpbmVzc1JlZ1VybCA9IGF3YWl0IHNhdmVGaWxlKGJ1c2luZXNzUmVnaXN0cmF0aW9uLCAnYnVzaW5lc3NSZWcnLCB1cGxvYWRzRGlyLCBzYXZlZEZpbGVzKTtcbiAgICBjb25zdCBtYXJhQ2VydFVybCA9IGF3YWl0IHNhdmVGaWxlKG1hcmFDZXJ0aWZpY2F0ZSwgJ21hcmFDZXJ0JywgdXBsb2Fkc0Rpciwgc2F2ZWRGaWxlcyk7XG4gICAgY29uc3QgYnVzaW5lc3NMb2dvVXJsID0gYXdhaXQgc2F2ZUZpbGUoYnVzaW5lc3NMb2dvLCAnYnVzaW5lc3NMb2dvJywgdXBsb2Fkc0Rpciwgc2F2ZWRGaWxlcyk7XG5cbiAgICAvLyBDcmVhdGUgVXNlciBhbmQgQWdlbnRQcm9maWxlXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXG4gICAgICAgIHBob25lLFxuICAgICAgICByb2xlOiAnQUdFTlQnLFxuICAgICAgICBhZ2VudFByb2ZpbGU6IHtcbiAgICAgICAgICBjcmVhdGU6IHtcbiAgICAgICAgICAgIG1hcmFOdW1iZXI6IG1hcmFPckxhd3llck51bWJlcixcbiAgICAgICAgICAgIGJ1c2luZXNzTmFtZSxcbiAgICAgICAgICAgIGJ1c2luZXNzQWRkcmVzcyxcbiAgICAgICAgICAgIGNhbGVuZGx5VXJsLFxuICAgICAgICAgICAgYmlvOiAnJyxcbiAgICAgICAgICAgIHN0YXR1czogJ1BFTkRJTkcnLFxuICAgICAgICAgICAgaXNBdmFpbGFibGU6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgLy8gU2F2ZSBEb2N1bWVudCByZWNvcmRzIGZvciB1cGxvYWRlZCBmaWxlc1xuICAgIGNvbnN0IGFnZW50UHJvZmlsZSA9IGF3YWl0IHByaXNtYS5hZ2VudFByb2ZpbGUuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IHVzZXJJZDogdXNlci5pZCB9IH0pO1xuICAgIGlmIChhZ2VudFByb2ZpbGUpIHtcbiAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBzYXZlZEZpbGVzKSB7XG4gICAgICAgIGF3YWl0IHByaXNtYS5kb2N1bWVudC5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGFnZW50SWQ6IGFnZW50UHJvZmlsZS5pZCxcbiAgICAgICAgICAgIHR5cGU6IGZpbGUudHlwZSxcbiAgICAgICAgICAgIHVybDogZmlsZS51cmwsXG4gICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVnaXN0ZXJpbmcgYWdlbnQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHJlZ2lzdGVyIGFnZW50JyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJQcmlzbWFDbGllbnQiLCJ3cml0ZUZpbGUiLCJta2RpciIsInBhdGgiLCJyYW5kb21VVUlEIiwiYmNyeXB0IiwicHJpc21hIiwic2F2ZUZpbGUiLCJmaWxlIiwidHlwZSIsInVwbG9hZHNEaXIiLCJzYXZlZEZpbGVzIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwiZXh0IiwibmFtZSIsInNwbGl0IiwicG9wIiwiZmlsZW5hbWUiLCJmaWxlUGF0aCIsImpvaW4iLCJwdXNoIiwidXJsIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInZpc2FUeXBlIiwiZ2V0IiwibG9jYXRpb24iLCJsYW5ndWFnZSIsIm1hcmFOdW1iZXIiLCJtaW5SYXRpbmciLCJtYXhQcmljZSIsInBhZ2UiLCJwYXJzZUludCIsImxpbWl0Iiwic2tpcCIsInN0YXR1cyIsIndoZXJlIiwiaXNBdmFpbGFibGUiLCJzcGVjaWFsaXphdGlvbnMiLCJoYXMiLCJPUiIsImJ1c2luZXNzQ2l0eSIsImNvbnRhaW5zIiwibW9kZSIsImJ1c2luZXNzU3RhdGUiLCJsYW5ndWFnZXMiLCJyYXRpbmciLCJndGUiLCJwYXJzZUZsb2F0IiwiaG91cmx5UmF0ZSIsImx0ZSIsImNvbnN1bHRhdGlvbkZlZSIsImFnZW50cyIsInRvdGFsIiwiUHJvbWlzZSIsImFsbCIsImFnZW50UHJvZmlsZSIsImZpbmRNYW55IiwiaW5jbHVkZSIsInVzZXIiLCJzZWxlY3QiLCJpZCIsImVtYWlsIiwiaW1hZ2UiLCJwaG9uZSIsImRvY3VtZW50cyIsInNlcnZpY2VzIiwiaXNBY3RpdmUiLCJwcmljZSIsImR1cmF0aW9uIiwicmV2aWV3cyIsImlzUHVibGljIiwiY29tbWVudCIsImNyZWF0ZWRBdCIsIl9jb3VudCIsImJvb2tpbmdzIiwib3JkZXJCeSIsInRvdGFsUmV2aWV3cyIsInRha2UiLCJjb3VudCIsImZvcm1hdHRlZEFnZW50cyIsIm1hcCIsImFnZW50IiwiYXZnUmF0aW5nIiwibGVuZ3RoIiwicmVkdWNlIiwic3VtIiwicmV2aWV3IiwidXNlcklkIiwibWFyYVZlcmlmaWVkIiwiYnVzaW5lc3NOYW1lIiwiYnVzaW5lc3NBZGRyZXNzIiwiYWJuIiwiYmlvIiwiY2FsZW5kbHlVcmwiLCJleHBlcmllbmNlIiwidG90YWxCb29raW5ncyIsInJlY2VudFJldmlld3MiLCJzbGljZSIsImpzb24iLCJwYWdpbmF0aW9uIiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIiwiaGFzTmV4dCIsImhhc1ByZXYiLCJlcnJvciIsImNvbnNvbGUiLCJQT1NUIiwiZm9ybURhdGEiLCJwYXNzd29yZCIsImFkZHJlc3MiLCJtYXJhT3JMYXd5ZXJOdW1iZXIiLCJwaG90byIsImJ1c2luZXNzUmVnaXN0cmF0aW9uIiwibWFyYUNlcnRpZmljYXRlIiwiYnVzaW5lc3NMb2dvIiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwicHJvY2VzcyIsImN3ZCIsInJlY3Vyc2l2ZSIsInBob3RvVXJsIiwiYnVzaW5lc3NSZWdVcmwiLCJtYXJhQ2VydFVybCIsImJ1c2luZXNzTG9nb1VybCIsImNyZWF0ZSIsImRhdGEiLCJyb2xlIiwiZmluZFVuaXF1ZSIsImRvY3VtZW50IiwiYWdlbnRJZCIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/agents/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fagents%2Froute&page=%2Fapi%2Fagents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fagents%2Froute.ts&appDir=C%3A%5CUsers%5Cvastu%5COneDrive%5CDesktop%5CMaraPlace%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cvastu%5COneDrive%5CDesktop%5CMaraPlace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();